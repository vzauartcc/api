{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": ["config:recommended", ":disableMajorUpdates", "helpers:pinGitHubActionDigests"],
	"timezone": "America/Chicago",
	"schedule": ["* 10-18 * * *"],
	"dependencyDashboard": true,
	"prConcurrentLimit": 5,
	"minimumReleaseAge": "21 days",
	"internalChecksFilter": "strict",
	"packageRules": [
		{
			"description": "Group minor, patch, and digest updates for GitHub Actions",
			"matchManagers": ["github-actions"],
			"matchUpdateTypes": ["minor", "patch", "digest"],
			"groupName": "all minor and patch github action updates",
			"automerge": false,
			"enabled": true
		},
		{
			"description": "Allow major updates for GitHub Actions (override global block) and keep them separate",
			"matchManagers": ["github-actions"],
			"matchUpdateTypes": ["major"],
			"enabled": true,
			"groupName": null,
			"automerge": false
		},
		{
			"description": "Group all remaining minor and patch updates together, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "minor and patch updates",
			"automerge": false
		},
		{
			"description": "Group minor and patch updates together for MongoDB/Redis, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "mongoose and redis minor and patch updates",
			"matchPackagePatterns": ["mongoose", "ioredis"],
			"automerge": false
		},
		{
			"description": "Group minor and patch updates together for express, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "express related minor and patch updates",
			"matchPackageNames": [
				"express",
				"express-validator",
				"cors",
				"helmet",
				"cookie-parser",
				"multer",
				"multer-s3"
			],
			"automerge": false
		},
		{
			"description": "Group minor and patch updates together for AWS/storage, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "aws and storage minor and patch updates",
			"matchPackagePatterns": ["^@aws-sdk/", "file-type", "tar-stream"],
			"automerge": false
		},
		{
			"description": "Group minor and patch updates together for services/utilities, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "services and utilities minor and patch updates",
			"matchPackagePatterns": [
				"^@sentry/",
				"nodemailer",
				"axios",
				"luxon",
				"croner",
				"jsonwebtoken",
				"dompurify"
			],
			"automerge": false
		},
		{
			"description": "Group minor and patch updates together for tooling/types, but do not automerge",
			"matchUpdateTypes": ["minor", "patch"],
			"groupName": "tooling and types minor and patch updates",
			"matchPackagePatterns": [
				"^@types/",
				"^eslint",
				"^@eslint",
				"prettier",
				"typescript",
				"nodemon",
				"ts-node",
				"globals"
			],
			"automerge": false
		},
		{
			"description": "Don't group major updates",
			"matchUpdateTypes": ["major"],
			"groupName": null
		}
	]
}
